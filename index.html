<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>水族館に入る</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/animate.min.css">
</head>
<body>

<canvas id="monCanevas">
    Veuillez mettre à jour votre navigateur s'il vous plaît...
</canvas>


<div class="begin">
    <button class="enter" id="start" onclick="start()">水族館に入る</button>
    <h1 class="enteren">Enter The Aquarium</h1>
</div>


<div id="sand"></div>

<div id="rocher1" class="display_in_rocks"><img src="./img/rocher1.svg" alt="rocher"></div>
<div id="rocher2" class="display_in_rocks"><img src="./img/rocher2.svg" alt="rocher"></div>

<div id="requin" class="display_in">
    <svg version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="125.6 203.4 288.7 311.2" style="enable-background:new 125.6 203.4 288.7 311.2;" xml:space="preserve">
<style type="text/css">
	.st0 {
        fill: #B0B5DC;
    }

    .st1 {
        fill: #2D2E83;
    }
</style>
<g id="requin_int">
	<path class="st0" d="M128.5,382.2c0,0-18.1-76.5,56.8-144.8c0,0-19.9-11.7-43.7-12.7c0,0,30.6-25.1,73.6-6.4c0,0,42.4-23.3,99-11.7
		c0,0-1.8,44.8-56.1,68c0,0,7.5,34.2-16.3,62c0,0,1.3-25.9-7.8-43.7c0,0-17.2,12.7-27.2,24.1c0.7,1.8,4,22.3,1.1,34.4
		c0,0-6.6-10.3-18.1-13.8c0,0-11.2,15.4-20.9,36.1c0,0,36.8,9,54.7,42.7c0,0-30.3-16.7-63.8-6.6L128.5,382.2">
    <!--<animate id="animate1" begin="indefinite" attributeName="d" dur="200ms" to="M128.1,382.3c0,0-18.1-76.5,56.8-144.8c0,0-19.9-11.7-43.7-12.7c0,0,30.6-25.1,73.6-6.4c0,0,42.4-23.3,99-11.7-->
        <!--c0,0-6.7,33.3-60.4,60.9c0,0,9.2,20.1-14.6,47.9c0,0,2.6-23.3-19.7-31.9c0,0-17.6,15.6-27.7,27c0,0,9.1,19.4,5.7,35-->
        <!--c0,0-11-19-25.3-13.7c0,0-18.4,13.1-28,33.7c0,0,23.8,10.9,41.7,44.6c0,0-30.3-16.7-63.8-6.6L128.1,382.3"/>-->
    </path>
</g>
<g id="requin_encrage_-_copie">
	<path class="st1" d="M177.8,244.6l7.5-7.1c0,0-26.8-13.2-43.7-12.7c18.8-13.1,48.4-19.3,73.6-6.4c33.9-17.1,79-17,99-11.7
		c-25.7,6.6-45.2,5.5-97,58.5C189.7,264,177.8,244.6,177.8,244.6z">
        <!--<animate id="animate2" begin="indefinite" attributeName="d" dur="200ms" to="M177.4,244.6l7.5-7.1c0,0-26.8-13.2-43.7-12.7c18.8-13.1,48.4-19.3,73.6-6.4c33.9-17.1,79-17,99-11.7-->
        <!--c-25.7,6.6-45.2,5.5-97,58.5C189.3,264,177.4,244.6,177.4,244.6z"/>-->
    </path>
	<path class="st1" d="M177.4,244.6l39.4,20.7c0,0-63.2,54.1-56.3,137.8c1.3,15.1,17.4,41.7,59.6,72.3
		c28.4,20.7,70.9,24.2,100.7,20.7c60.5-7.2,84.7-42,93.5-51.1c-37.3,63.4-122,78.9-180.5,64.6c-29.4-7.2-60.2-29.2-71.4-43.8
		c-5.9-7.7-33.3-49-36.3-93.2c-3-43.5,7-64.3,21.5-88.5C162.5,259,177.4,244.6,177.4,244.6z">
        <!--<animate id="animate3" begin="indefinite" attributeName="d" dur="200ms" to="M177.4,244.6l39.4,20.7c0,0-72.8,82.7-103.8,160.7c-7,17.6-14.1,36.8-21.3,57.3c-6.3,18.1-12.6,37.1-18.9,57.1-->
        <!--C54.7,598.5,37,663.9,22,732c2-29.3,11.3-92,24.1-159.4c7.1-37.6,15.3-76.7,23.8-112.2c11.5-47.7,23.6-89.1,34.6-111.9-->
        <!--c15-31.1,27.2-54.1,39.5-68.6C167.2,252.5,177.4,244.6,177.4,244.6z"/>-->
    </path>
</g>
</svg>

</div>


<script>
  var w = window.innerWidth;
  var h = window.innerHeight;
  console.log(w);
  console.log(h);

  var c = document.getElementById("monCanevas");
  c.width = w - 60;
  c.height = h - 60;
  var ctx = c.getContext('2d');


  var monCanevas = document.getElementById("monCanevas");
  monCanevas.style.position = "absolute";
  monCanevas.style.top = "0";
  monCanevas.style.left = "0";
  var ctx = monCanevas.getContext('2d');

  var listeEtoiles = {};

  function alea(min, max) {
    return Math.round(Math.random() * (max - min) + min);
  }

  function creerEtoile(id, posX, posY, rayon, couleur, vitesse) {
    var monEtoile = {x: posX, y: posY, r: rayon, c: couleur, v: vitesse};
    listeEtoiles[id] = monEtoile;
  }

  for (var i = 0; i < 500; i++) {
    creerEtoile(i.toString(), alea(0, w), alea(h - 20, h + 500), alea(18, 22), 'rgba(' + alea(131, 194) + ',' + alea(208, 232) + ',' + alea(254, 255) + ', ' + Math.random() * 0.7 + ')', alea(1, 5));
  }

  console.log(listeEtoiles[3]);

  function dessine() {
    ctx.clearRect(0, 0, monCanevas.width, monCanevas.height);
    for (var cle in listeEtoiles) {
      ctx.beginPath();
      ctx.arc(listeEtoiles[cle].x, listeEtoiles[cle].y, listeEtoiles[cle].r, 0, 2 * Math.PI, false);
      ctx.strokeStyle = "#ffffff";
      ctx.lineWidth = 1;
      ctx.stroke();
      ctx.fillStyle = listeEtoiles[cle].c;
      ctx.fill();
      ctx.closePath();
    }
  }

  dessine();

  function bouge() {
    for (cle in listeEtoiles) {
      listeEtoiles[cle].y -= listeEtoiles[cle].v;
      listeEtoiles[cle].x += alea(-3, 3);
      listeEtoiles[cle].v += 0.3;
      listeEtoiles[cle].r += 0.2;
      if (listeEtoiles[cle].y < -10) {
        listeEtoiles[cle].y = h - 100;
        listeEtoiles[cle].r = alea(1, 4);
        listeEtoiles[cle].v = alea(1, 5);
      }
    }
    dessine();
  }

  var timer;

  function start() {
    console.log("start bouge");
    timer = setInterval("bouge()", 40);
  }

</script>
<script src="js/index.js"></script>

</body>
</html>